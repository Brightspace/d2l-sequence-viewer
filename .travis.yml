language: node_js
node_js: 10
addons:
  chrome: stable
sudo: required
branches:
  only:
  - master
  - /^v.*$/
after_success:
- '[ "$TRAVIS_PULL_REQUEST" = "false" ] && [ "$TRAVIS_BRANCH" == "master" ] || [ "x$TRAVIS_TAG" != "x" ] && export NODE_ENV=production && npm run publish:dev:cdn'
script:
- npm run lint
- npm run build
- npm run test-sauce
before_install:
- echo -e "machine github.com\n  login $GITHUB_RELEASE_TOKEN" >> ~/.netrc
env:
  global:
  - REPO_NAME=d2l-sequence-viewer
  - secure: QZCFlbxTSDnR7M1Td7PG7Fwayz4+8B9MSwP84v2IR/Pwz7xIXczal+Qm6VBf2UijAqSgECNeYQOy5TtDJUjzJ66TZgVWiXLNO+Y0+A9PGwaAHP8JEA1P1X1es/k1m3Ev60HIpSiUMwa3bY2liGUNG+1S+uk6SoWXkpICQRHiGz62hRr8KwXfRpyPKXxqtI5zm2WGp5YAUUmS8UnZrCzTJvVTH0f3rYN2P8Efw1JtMkN1hFx2X9H2CltYfmJjteuaX/aw+G+ThmpFWFoHeNAid+kSH6Ix1kIx0lKXWQ8aB7gCWyC8sN9WB7c+ZpTyu6/r6vbpbyc77lV/V7RjFkUuL0uNI9SRi3OA+Rk510engGMrNISii6nbve1FHEEbXA/1cURCc7xgPK7E1Gj8IKgnYO7SBCD37iLc2d5+bpjw5x1PJpyJON0FcwWics3c3kZ/agYOs4kw8QhXgcBSzS8cSSIFJQcca+A3WxlLNfXbqY1Hf4dmWzHrGxS6/72tPuplr1v3sIKOT/L77vMMezqTHABDKJUYsZMYJwR4+jZdScWvUe8q2Uht2NSNZSPMJb+MPwgsMji8Oxlahaw2AkWmSwe4nvDSQT1CG/TC6KZ2K6W5MteMblTolHs0GvwsPq98YtPdMeowDpHjv5gXf5z3rmsu2plJsSv/ZRqT/mV4Zvc=
# CDN_SECRET
  - secure: k46HJXxE3Uw57l+QSDguxcrP5ryr+w/WUSKV4vuo5CTQXiSFcjnPXgWSYBM4eFbYgf5pmkR3VCFsSLSJNFU0np5eQrFuHX8vdpdo4kaiFVA54kGaMWeLOTxfCAJQD7ePo6UHmkVQliB39MT0D4toMiiJUOW78rrJImiIjwwLsrVB3PynY+x/N6jYkeZPGf3Fhs69ssY13dEoVOajZXO9mJqbPoA4VmmRII8QeCUsWI6zZ9XuiSjbCNODzW4WjAE/kdpCrdUC1Fl03HYgGFMI0wolvTiazjijHHaOi391kjpsWlNoBdDPzex3WZq7UNRMxeREITeSMy9P9Vz2TBxF1u2T/O2f9s2KStT+LLXmHN/yXgWUsVdoElii4flI/WTP4R3vWJMyFBRAa/6GsdwA1dGGU1dThWaVM4AE5nVI3M7V1HyTOSePIOT2XUwkTw8U2cUQ/chsSz1VDdTfxTM4Jgo5DVZWGN7pqq7lQWrY+z4qIWd9IYEDFnY54nXqC60TKSTUtq0XG5wOJwwGCbGIWDy4MK3Est3bX2prWMUr1lt60XC6vo2GQ0iM9ynggS7LHpOx/Oe9rJPxcej4BrEZ5aVa4RpUA9/H0kwMruGI1moObiw6I9PwIYdonhj2DMnC5L6OQEp5FtmQwuHG/4tr+ad15ZyvsJArLCFUQW8dsnE=
# SAUCE_USERNAME  
  - secure: U7Ovg3PZ3H1LgSTDMZMPmmVZ2m+foVu+2odaDFEorcnZECQ/+kRHPL5N74l1B+SFx6PHfRSAOD4/K9/39UJubmnYBERv6sqlFI0PFdnTzDi1MHgWKBRlFxc9d4J15tesUs5YU3mPxcazUq5U5ba4O7sxRkBlj+dfUeiA7rQ2p2yn2pePPkdbVlGz3CuY1b1zK/6YxwdFOX3sWHyAStcwGEvwxuNV/KFtPoLI53yp1CmA2c4bgHTpbbCc6ccM9DH8B0WXXLSUGC9ceSG0LzKVHKd3OBwsxBgzqrpPUf53XJIX5ZmTHTv+Xvs2HAtrZSg4+IDBO0eBo3DIc83sKh8nnHSgJCni/8+aMRWbYUNv2l+h1aKWxpVpuFrQ6SETllYm0BW2Nn64Mbm6/Re2X6QbM76ikWegN26g7MpqdxYqUdc7SMuQ3r2cnPme0EfHJPR/yWlawlENxZhtjbDzSOtNla9oy0o+5baMXaBiOF/Ra6e3TevalX8BX+WQo9v6FsOgR7pDACHBT+x9KO85eKxvZQHPWJ1jlDiahYewDTT2FLKD4CY49UU0eWASIAkVpCJLKwV7B0GC6xHYHVSdKgTdeMruAOYtdROO9Q0vIVIhcCZS+PQ1q7EZS5FLS3hWC7HXZgHUYUgQd1f3TLOPksNtIa5SU+hW0iOukiKWBM/wcck=
# SAUCE_ACCESS_KEY  
  - secure: gPm6/CHigwJVnhxSuVI64gWx/cctxZ+F+JxaSjadestjwW5ieDWy8gOkgp6YeovMvmVXXRR+xGdyRiAugAo5YZ6IMVXn5xJXiIWf9KyVT2p3YfyLmBAbCoxIyoNS+J6s5B5KF9KTR+5gb/12jtrxrfl0/qAtyBxrGi1LpRjLdMsVYes05arv2Ht2xDoK5vAP38jxzoS7IINrqsXiUg03I+/FWXz1Sh7BGmH5q4A7TWRNAt1J2mqHXt07+pOQjPYiY758Y6iuE32qOzyi4cTj1JaWIPAJT9jN1NfgJUHrs906MzBCtyJgmHT7ywx0pDpGlw5AC7ckVPlaMLeAv6zL5M+NVzJWUerXhR3ypwJ8QwJQWInAExcfa5cAVjp7AiyDkjmUDUyaYpVloyqcuPzEDyKjvhUmVjqe3Ad9sBMT8rwgJBXAm3bmKnnqj0OdlNg/rCkBf7cyLMlneNKDREgABONk5pvqatheP7wdkSMRIzjBguoRpgtWQxL/dbmFvf+gt+M9KzInMOzeM9znY04hv7wnuSQxlsFwIubEOqx0/X0V+l3S9+lIDyJvHxaydbUSAJ/4XF3NH5wGeVc0nIz4WOpGyw1M6JAq++fEnn1MfqoRCnth0KYJi+12y8SGWTeUjxjFH9A3PeVgltsmSPtjmOUoB8UcyV9cXl0o0IMdAgo=